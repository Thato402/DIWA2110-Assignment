{"ast":null,"code":"import _objectSpread from\"C:/Users/DELL/track/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Inventory(){const[products,setProducts]=useState([]);const[form,setForm]=useState({name:'',description:'',category:'',price:0,quantity:0,image:''});const[editId,setEditId]=useState(null);const[addQty,setAddQty]=useState({});useEffect(()=>{axios.get('/products').then(res=>setProducts(res.data));},[]);const handleChange=e=>{if(e.target.name==='image'){const file=e.target.files[0];if(file){const reader=new FileReader();reader.onloadend=()=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:reader.result}));reader.readAsDataURL(file);}}else{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.name==='price'||e.target.name==='quantity'?parseFloat(e.target.value):e.target.value}));}};const handleSubmit=e=>{e.preventDefault();if(editId){axios.put(\"/products/\".concat(editId),form).then(res=>{setProducts(products.map(p=>p.id===editId?res.data:p));setEditId(null);});}else{axios.post('/products',form).then(res=>setProducts([...products,res.data]));}setForm({name:'',description:'',category:'',price:0,quantity:0,image:''});};const handleDelete=id=>axios.delete(\"/products/\".concat(id)).then(()=>setProducts(products.filter(p=>p.id!==id)));const handleEdit=product=>{setForm(product);setEditId(product.id);};const handleQtyChange=(id,value)=>setAddQty(_objectSpread(_objectSpread({},addQty),{},{[id]:value}));const handleAddStock=id=>{const qty=parseInt(addQty[id]||0);if(qty>0){axios.post('/stock/add',{productId:id,quantity:qty}).then(()=>{setProducts(products.map(p=>p.id===id?_objectSpread(_objectSpread({},p),{},{quantity:p.quantity+qty}):p));setAddQty(_objectSpread(_objectSpread({},addQty),{},{[id]:0}));});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Inventory Management\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name,onChange:handleChange,placeholder:\"Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"description\",value:form.description,onChange:handleChange,placeholder:\"Description\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"category\",value:form.category,onChange:handleChange,placeholder:\"Category\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",type:\"number\",value:form.price,onChange:handleChange,placeholder:\"Price\",step:\"0.01\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"quantity\",type:\"number\",value:form.quantity,onChange:handleChange,placeholder:\"Initial Quantity\",required:true}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",children:[editId?'Update':'Add',\" Product\"]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(p=>/*#__PURE__*/_jsxs(\"tr\",{className:p.quantity<10?'low-stock':'',children:[/*#__PURE__*/_jsx(\"td\",{children:p.name}),/*#__PURE__*/_jsx(\"td\",{children:p.description}),/*#__PURE__*/_jsx(\"td\",{children:p.category}),/*#__PURE__*/_jsxs(\"td\",{children:[\"M\",p.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:p.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(p),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(p.id),children:\"Delete\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:addQty[p.id]||'',onChange:e=>handleQtyChange(p.id,e.target.value),placeholder:\"Add Qty\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddStock(p.id),children:\"Add Stock\"})]})]},p.id))})]})]});}export default Inventory;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Inventory","products","setProducts","form","setForm","name","description","category","price","quantity","image","editId","setEditId","addQty","setAddQty","get","then","res","data","handleChange","e","target","file","files","reader","FileReader","onloadend","_objectSpread","result","readAsDataURL","parseFloat","value","handleSubmit","preventDefault","put","concat","map","p","id","post","handleDelete","delete","filter","handleEdit","product","handleQtyChange","handleAddStock","qty","parseInt","productId","className","children","onSubmit","onChange","placeholder","required","type","step","toFixed","onClick"],"sources":["C:/Users/DELL/track/frontend/src/components/Inventory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Inventory() {\r\n  const [products, setProducts] = useState([]);\r\n  const [form, setForm] = useState({ name: '', description: '', category: '', price: 0, quantity: 0, image: '' });\r\n  const [editId, setEditId] = useState(null);\r\n  const [addQty, setAddQty] = useState({});\r\n\r\n  useEffect(() => {\r\n    axios.get('/products').then(res => setProducts(res.data));\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === 'image') {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => setForm({ ...form, [e.target.name]: reader.result });\r\n        reader.readAsDataURL(file);\r\n      }\r\n    } else {\r\n      setForm({ ...form, [e.target.name]: e.target.name === 'price' || e.target.name === 'quantity' ? parseFloat(e.target.value) : e.target.value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (editId) {\r\n      axios.put(`/products/${editId}`, form).then(res => {\r\n        setProducts(products.map(p => p.id === editId ? res.data : p));\r\n        setEditId(null);\r\n      });\r\n    } else {\r\n      axios.post('/products', form).then(res => setProducts([...products, res.data]));\r\n    }\r\n    setForm({ name: '', description: '', category: '', price: 0, quantity: 0, image: '' });\r\n  };\r\n\r\n  const handleDelete = (id) => axios.delete(`/products/${id}`).then(() => setProducts(products.filter(p => p.id !== id)));\r\n  const handleEdit = (product) => { setForm(product); setEditId(product.id); };\r\n  const handleQtyChange = (id, value) => setAddQty({ ...addQty, [id]: value });\r\n  const handleAddStock = (id) => {\r\n    const qty = parseInt(addQty[id] || 0);\r\n    if (qty > 0) {\r\n      axios.post('/stock/add', { productId: id, quantity: qty }).then(() => {\r\n        setProducts(products.map(p => p.id === id ? { ...p, quantity: p.quantity + qty } : p));\r\n        setAddQty({ ...addQty, [id]: 0 });\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <h2>Inventory Management</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input name=\"name\" value={form.name} onChange={handleChange} placeholder=\"Name\" required />\r\n        <input name=\"description\" value={form.description} onChange={handleChange} placeholder=\"Description\" required />\r\n        <input name=\"category\" value={form.category} onChange={handleChange} placeholder=\"Category\" required />\r\n        <input name=\"price\" type=\"number\" value={form.price} onChange={handleChange} placeholder=\"Price\" step=\"0.01\" required />\r\n        <input name=\"quantity\" type=\"number\" value={form.quantity} onChange={handleChange} placeholder=\"Initial Quantity\" required />\r\n        \r\n        <button type=\"submit\">{editId ? 'Update' : 'Add'} Product</button>\r\n      </form>\r\n      <table>\r\n        <thead><tr><th>Name</th><th>Description</th><th>Category</th><th>Price</th><th>Quantity</th><th>Actions</th></tr></thead>\r\n        <tbody>\r\n          {products.map(p => (\r\n            <tr key={p.id} className={p.quantity < 10 ? 'low-stock' : ''}>\r\n              <td>{p.name}</td><td>{p.description}</td><td>{p.category}</td><td>M{p.price.toFixed(2)}</td><td>{p.quantity}</td>\r\n              <td>\r\n                <button onClick={() => handleEdit(p)}>Edit</button>\r\n                <button onClick={() => handleDelete(p.id)}>Delete</button>\r\n                <input type=\"number\" value={addQty[p.id] || ''} onChange={(e) => handleQtyChange(p.id, e.target.value)} placeholder=\"Add Qty\" />\r\n                <button onClick={() => handleAddStock(p.id)}>Add Stock</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Inventory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}